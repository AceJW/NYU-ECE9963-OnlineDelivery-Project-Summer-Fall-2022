function _extends(){return(_extends=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b){Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}}return d}).apply(this,arguments)}function _typeof(a){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(a)}!function(b,a){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):b.LazyLoad=a()}(this,function(){var ag="undefined"!=typeof window,J=ag&&!("onscroll" in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),Z=ag&&"IntersectionObserver" in window,ab=ag&&"classList" in document.createElement("p"),ae={elements_selector:"img",container:J||ag?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},q=function(d,a){var b,c=new d(a);try{b=new CustomEvent("LazyLoad::Initialized",{detail:{instance:c}})}catch(d){(b=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:c})}window.dispatchEvent(b)};var S=function(b,a){return b.getAttribute("data-"+a)},af=function(d,a,b){var c="data-"+a;null!==b?d.setAttribute(c,b):d.removeAttribute(c)},F=function(a){return"true"===S(a,"was-processed")},V=function(b,a){return af(b,"ll-timeout",a)},ah=function(a){return S(a,"ll-timeout")},H=function(b,a){b&&b(a)},P=function(b,a){b._loadingCount+=a,0===b._elements.length&&0===b._loadingCount&&H(b._settings.callback_finish)},j=function(d){for(var a,b=[],c=0;a=d.children[c];c+=1){"SOURCE"===a.tagName&&b.push(a)}return b},ai=function(c,a,b){b&&c.setAttribute(a,b)},Q=function(b,a){ai(b,"sizes",S(b,a.data_sizes)),ai(b,"srcset",S(b,a.data_srcset)),ai(b,"src",S(b,a.data_src))},X={IMG:function(c,a){var b=c.parentNode;b&&"PICTURE"===b.tagName&&j(b).forEach(function(d){Q(d,a)});Q(c,a)},IFRAME:function(b,a){ai(b,"src",S(b,a.data_src))},VIDEO:function(b,a){j(b).forEach(function(c){ai(c,"src",S(c,a.data_src))}),ai(b,"src",S(b,a.data_src)),b.load()}},D=function(i,c){var d,f,g=c._settings,b=i.tagName,h=X[b];if(h){return h(i,g),P(c,1),void (c._elements=(d=c._elements,f=i,d.filter(function(a){return a!==f})))}!function(m,a){var k=S(m,a.data_src),l=S(m,a.data_bg);k&&(m.style.backgroundImage='url("'.concat(k,'")')),l&&(m.style.backgroundImage=l)}(i,g)},R=function(b,a){ab?b.classList.add(a):b.className+=(b.className?" ":"")+a},ad=function(c,a,b){c.addEventListener(a,b)},al=function(c,a,b){c.removeEventListener(a,b)},K=function(c,a,b){al(c,"load",a),al(c,"loadeddata",a),al(c,"error",b)},aj=function(k,c,f){var g=f._settings,b=c?g.class_loaded:g.class_error,d=c?g.callback_loaded:g.callback_error,h=k.target;!function(i,a){ab?i.classList.remove(a):i.className=i.className.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(h,g.class_loading),R(h,b),H(d,h),P(f,-1)},T=function(d,a){var b=function b(e){aj(e,!0,a),K(d,b,c)},c=function c(e){aj(e,!1,a),K(d,b,c)};!function(h,f,g){ad(h,"load",f),ad(h,"loadeddata",f),ad(h,"error",g)}(d,b,c)},U=["IMG","IFRAME","VIDEO"],B=function(c,a){var b=a._observer;am(c,a),b&&a._settings.auto_unobserve&&b.unobserve(c)},W=function(b){var a=ah(b);a&&(clearTimeout(a),V(b,null))},ak=function(d,a){var b=a._settings.load_delay,c=ah(d);c||(c=setTimeout(function(){B(d,a),W(d)},b),V(d,c))},am=function(d,a,b){var c=a._settings;!b&&F(d)||(U.indexOf(d.tagName)>-1&&(T(d,a),R(d,c.class_loading)),D(d,a),function(e){af(e,"was-processed","true")}(d),H(c.callback_reveal,d),H(c.callback_set,d))},ac=function(b){return !!Z&&(b._observer=new IntersectionObserver(function(c){c.forEach(function(d){return function(e){return e.isIntersecting||e.intersectionRatio>0}(d)?function(h,f){var g=f._settings;H(g.callback_enter,h),g.load_delay?ak(h,f):B(h,f)}(d.target,b):function(h,f){var g=f._settings;H(g.callback_exit,h),g.load_delay&&W(h)}(d.target,b)})},{root:(a=b._settings).container===document?null:a.container,rootMargin:a.thresholds||a.threshold+"px"}),!0);var a},aa=["IMG","IFRAME"],G=function(c,a){return function(d){return d.filter(function(e){return !F(e)})}((b=c||function(d){return d.container.querySelectorAll(d.elements_selector)}(a),Array.prototype.slice.call(b)));var b},Y=function(b,a){this._settings=function(c){return _extends({},ae,c)}(b),this._loadingCount=0,ac(this),this.update(a)};return Y.prototype={update:function(d){var a,b=this,c=this._settings;(this._elements=G(d,c),!J&&this._observer)?(function(e){return e.use_native&&"loading" in HTMLImageElement.prototype}(c)&&((a=this)._elements.forEach(function(e){-1!==aa.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),am(e,a))}),this._elements=G(d,c)),this._elements.forEach(function(e){b._observer.observe(e)})):this.loadAll()},destroy:function(){var a=this;this._observer&&(this._elements.forEach(function(b){a._observer.unobserve(b)}),this._observer=null),this._elements=null,this._settings=null},load:function(b,a){am(b,this,a)},loadAll:function(){var a=this;this._elements.forEach(function(b){B(b,a)})}},ag&&function(d,a){if(a){if(a.length){for(var b,c=0;b=a[c];c+=1){q(d,b)}}else{q(d,a)}}}(Y,window.lazyLoadOptions),Y});