/* rangeslider.js - v2.3.0 | (c) 2016 @andreruffert | MIT license | https://github.com/andreruffert/rangeslider.js */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(a){Number.isNaN=Number.isNaN||function(p){return typeof p==="number"&&p!==p};function m(){var p=document.createElement("input");p.setAttribute("type","range");return p.type!=="text"}var l="rangeslider",k=0,h=m(),d={polyfill:true,orientation:"horizontal",isRTL:false,rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",activeClass:"rangeslider--active",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]},b={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};function e(q,r){var p=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return q.apply(null,p)},r)}function c(q,p){p=p||100;return function(){if(!q.debouncing){var r=Array.prototype.slice.apply(arguments);q.lastReturnVal=q.apply(window,r);q.debouncing=true}clearTimeout(q.debounceTimeout);q.debounceTimeout=setTimeout(function(){q.debouncing=false},p);return q.lastReturnVal}}function i(p){return(p&&(p.offsetWidth===0||p.offsetHeight===0||p.open===false))}function g(p){var r=[],q=p.parentNode;while(i(q)){r.push(q);q=q.parentNode}return r}function f(q,w){var r=g(q),s=r.length,u=[],p=q[w];function x(y){if(typeof y.open!=="undefined"){y.open=(y.open)?false:true}}if(s){for(var t=0;t<s;t++){u[t]=r[t].style.cssText;if(r[t].style.setProperty){r[t].style.setProperty("display","block","important")}else{r[t].style.cssText+=";display: block !important"}r[t].style.height="0";r[t].style.overflow="hidden";r[t].style.visibility="hidden";x(r[t])}p=q[w];for(var v=0;v<s;v++){r[v].style.cssText=u[v];x(r[v])}}return p}function n(q,p){var r=parseFloat(q);return Number.isNaN(r)?p:r}function o(p){return p.charAt(0).toUpperCase()+p.substr(1)}function j(q,r){this.$window=a(window);this.$document=a(document);this.$element=a(q);this.options=a.extend({},d,r);this.polyfill=this.options.polyfill;this.orientation=this.$element[0].getAttribute("data-orientation")||this.options.orientation;this.onInit=this.options.onInit;this.onSlide=this.options.onSlide;this.onSlideEnd=this.options.onSlideEnd;this.DIMENSION=b.orientation[this.orientation].dimension;this.DIRECTION=this.options.isRTL?"right":"left";this.DIRECTION_STYLE=this.options.isRTL?"right":"left";this.COORDINATE=b.orientation[this.orientation].coordinate;if(this.polyfill){if(h){return false}}this.identifier="js-"+l+"-"+(k++);this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier;this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier;this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier;this.toFixed=(this.step+"").replace(".","").length-1;this.$fill=a('<div class="'+this.options.fillClass+'" />');this.$handle=a('<div class="'+this.options.handleClass+'" />');this.$range=a('<div class="'+this.options.rangeClass+(this.options.isRTL?" rangeslider-rtl ":"")+" "+this.options[this.orientation+"Class"]+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle);this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"});this.handleDown=a.proxy(this.handleDown,this);this.handleMove=a.proxy(this.handleMove,this);this.handleEnd=a.proxy(this.handleEnd,this);this.init();var p=this;this.$window.on("resize."+this.identifier,c(function(){e(function(){p.update(false,false)},300)},20));this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown);this.$element.on("change."+this.identifier,function(t,s){if(s&&s.origin===p.identifier){return}var v=t.target.value,u=p.getPositionFromValue(v);p.setPosition(u)})}j.prototype.init=function(){this.update(true,false);if(this.onInit&&typeof this.onInit==="function"){this.onInit()}};j.prototype.update=function(q,p){q=q||false;if(q){this.min=n(this.$element[0].getAttribute("min"),0);this.max=n(this.$element[0].getAttribute("max"),100);this.value=n(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2));this.step=n(this.$element[0].getAttribute("step"),1)}this.handleDimension=f(this.$handle[0],"offset"+o(this.DIMENSION));this.rangeDimension=f(this.$range[0],"offset"+o(this.DIMENSION));this.maxHandlePos=this.rangeDimension-this.handleDimension;this.grabPos=this.handleDimension/2;this.position=this.getPositionFromValue(this.value);if(this.$element[0].disabled){this.$range.addClass(this.options.disabledClass)}else{this.$range.removeClass(this.options.disabledClass)}this.setPosition(this.position,p)};j.prototype.handleDown=function(p){p.preventDefault();this.$document.on(this.moveEvent,this.handleMove);this.$document.on(this.endEvent,this.handleEnd);this.$range.addClass(this.options.activeClass);if((" "+p.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1){return}var r=this.getRelativePosition(p),s=this.$range[0].getBoundingClientRect()[this.DIRECTION],q=this.getPositionFromNode(this.$handle[0])-s,t=(this.orientation==="vertical")?(this.maxHandlePos-(r-this.grabPos)):(r-this.grabPos);this.setPosition(t);if(r>=q&&r<q+this.handleDimension){this.grabPos=r-q}};j.prototype.handleMove=function(p){p.preventDefault();var q=this.getRelativePosition(p);var r=(this.orientation==="vertical")?(this.maxHandlePos-(q-this.grabPos)):(q-this.grabPos);this.setPosition(r)};j.prototype.handleEnd=function(p){p.preventDefault();this.$document.off(this.moveEvent,this.handleMove);this.$document.off(this.endEvent,this.handleEnd);this.$range.removeClass(this.options.activeClass);this.$element.trigger("change",{origin:this.identifier});if(this.onSlideEnd&&typeof this.onSlideEnd==="function"){this.onSlideEnd(this.position,this.value)}};j.prototype.cap=function(r,q,p){if(r<q){return q}if(r>p){return p}return r};j.prototype.setPosition=function(q,r){var s,p;if(r===undefined){r=true}s=this.getValueFromPosition(this.cap(q,0,this.maxHandlePos));p=this.getPositionFromValue(s);this.$fill[0].style[this.DIMENSION]=(p+this.grabPos)+"px";this.$handle[0].style[this.DIRECTION_STYLE]=p+"px";this.setValue(s);this.position=p;this.value=s;if(r&&this.onSlide&&typeof this.onSlide==="function"){this.onSlide(p,s)}};j.prototype.getPositionFromNode=function(q){var p=0;while(q!==null){p+=q.offsetLeft;q=q.offsetParent}return p};j.prototype.getRelativePosition=function(p){var s=o(this.COORDINATE),r=this.$range[0].getBoundingClientRect()[this.DIRECTION],q=0;if(typeof p.originalEvent["client"+s]!=="undefined"){q=p.originalEvent["client"+s]}else{if(p.originalEvent.touches&&p.originalEvent.touches[0]&&typeof p.originalEvent.touches[0]["client"+s]!=="undefined"){q=p.originalEvent.touches[0]["client"+s]}else{if(p.currentPoint&&typeof p.currentPoint[this.COORDINATE]!=="undefined"){q=p.currentPoint[this.COORDINATE]}}}return this.options.isRTL?r-q:q-r};j.prototype.getPositionFromValue=function(r){var p,q;p=(r-this.min)/(this.max-this.min);q=(!Number.isNaN(p))?p*this.maxHandlePos:0;return q};j.prototype.getValueFromPosition=function(q){var p,r;p=((q)/(this.maxHandlePos||1));r=this.step*Math.round(p*(this.max-this.min)/this.step)+this.min;return Number((r).toFixed(this.toFixed))};j.prototype.setValue=function(p){if(p===this.value&&this.$element[0].value!==""){return}this.$element.val(p).trigger("input",{origin:this.identifier})};j.prototype.destroy=function(){this.$document.off("."+this.identifier);this.$window.off("."+this.identifier);this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_"+l);if(this.$range&&this.$range.length){this.$range[0].parentNode.removeChild(this.$range[0])}};a.fn[l]=function(q){var p=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=a(this),s=r.data("plugin_"+l);if(!s){r.data("plugin_"+l,(s=new j(this,q)))}if(typeof q==="string"){s[q].apply(s,p)}})};return"rangeslider.js is available in jQuery context e.g $(selector).rangeslider(options);"}));