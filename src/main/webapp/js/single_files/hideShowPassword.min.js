(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}})(function(a,i){var c="plugin_hideShowPassword",g=["show","innerToggle"],h=32,e=13;var b=function(){var j=document.body,l=document.createElement("input"),m=true;if(!j){j=document.createElement("body")}l=j.appendChild(l);try{l.setAttribute("type","text")}catch(k){m=false}j.removeChild(l);return m}();var d={show:"infer",innerToggle:false,enable:b,triggerOnToggle:false,className:"hideShowPassword-field",initEvent:"hideShowPasswordInit",changeEvent:"passwordVisibilityChange",props:{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"},toggle:{element:'<button type="button">',className:"hideShowPassword-toggle",touchSupport:typeof Modernizr==="undefined"?false:Modernizr.touchevents,attachToEvent:"click.hideShowPassword",attachToTouchEvent:"touchstart.hideShowPassword mousedown.hideShowPassword",attachToKeyEvent:"keyup",attachToKeyCodes:true,styles:{position:"absolute"},touchStyles:{pointerEvents:"none"},position:"infer",verticalAlign:"middle",offset:0,attr:{role:"button","aria-label":"Show Password",title:"Show Password",tabIndex:0}},wrapper:{element:"<div>",className:"hideShowPassword-wrapper",enforceWidth:true,styles:{position:"relative"},inheritStyles:["display","verticalAlign","marginTop","marginRight","marginBottom","marginLeft"],innerElementStyles:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}},states:{shown:{className:"hideShowPassword-shown",changeEvent:"passwordShown",props:{type:"text"},toggle:{className:"hideShowPassword-toggle-hide",content:"Hide",attr:{"aria-pressed":"true",title:"Hide Password"}}},hidden:{className:"hideShowPassword-hidden",changeEvent:"passwordHidden",props:{type:"password"},toggle:{className:"hideShowPassword-toggle-show",content:"Show",attr:{"aria-pressed":"false",title:"Show Password"}}}}};function f(j,k){this.element=a(j);this.wrapperElement=a();this.toggleElement=a();this.init(k)}f.prototype={init:function(j){if(this.update(j,d)){this.element.addClass(this.options.className);if(this.options.innerToggle){this.wrapElement(this.options.wrapper);this.initToggle(this.options.toggle);if(typeof this.options.innerToggle==="string"){this.toggleElement.hide();this.element.one(this.options.innerToggle,a.proxy(function(){this.toggleElement.show()},this))}}this.element.trigger(this.options.initEvent,[this])}},update:function(k,j){this.options=this.prepareOptions(k,j);if(this.updateElement()){this.element.trigger(this.options.changeEvent,[this]).trigger(this.state().changeEvent,[this])}return this.options.enable},toggle:function(j){j=j||"toggle";return this.update({show:j})},prepareOptions:function(l,j){var m=l||{},k=[],n;j=j||this.options;l=a.extend(true,{},j,l);if(m.hasOwnProperty("wrapper")&&m.wrapper.hasOwnProperty("inheritStyles")){l.wrapper.inheritStyles=m.wrapper.inheritStyles}if(l.enable){if(l.show==="toggle"){l.show=this.isType("hidden",l.states)}else{if(l.show==="infer"){l.show=this.isType("shown",l.states)}}if(l.toggle.position==="infer"){l.toggle.position=this.element.css("text-direction")==="rtl"?"left":"right"}if(!a.isArray(l.toggle.attachToKeyCodes)){if(l.toggle.attachToKeyCodes===true){n=a(l.toggle.element);switch(n.prop("tagName").toLowerCase()){case"button":case"input":break;case"a":if(n.filter("[href]").length){k.push(h);break}default:k.push(h,e);break}}l.toggle.attachToKeyCodes=k}}return l},updateElement:function(){if(!this.options.enable||this.isType()){return false}this.element.prop(a.extend({},this.options.props,this.state().props)).addClass(this.state().className).removeClass(this.otherState().className);if(this.options.triggerOnToggle){this.element.trigger(this.options.triggerOnToggle,[this])}this.updateToggle();return true},isType:function(j,k){k=k||this.options.states;j=j||this.state(i,i,k).props.type;if(k[j]){j=k[j].props.type}return this.element.prop("type")===j},state:function(k,j,l){l=l||this.options.states;if(k===i){k=this.options.show}if(typeof k==="boolean"){k=k?"shown":"hidden"}if(j){k=k==="shown"?"hidden":"shown"}return l[k]},otherState:function(j){return this.state(j,true)},wrapElement:function(k){var j=k.enforceWidth,l;if(!this.wrapperElement.length){l=this.element.outerWidth();a.each(k.inheritStyles,a.proxy(function(m,n){k.styles[n]=this.element.css(n)},this));this.element.css(k.innerElementStyles).wrap(a(k.element).addClass(k.className).css(k.styles));this.wrapperElement=this.element.parent();if(j===true){j=this.wrapperElement.outerWidth()===l?false:l}if(j!==false){this.wrapperElement.css("width",j)}}return this.wrapperElement},initToggle:function(j){if(!this.toggleElement.length){this.toggleElement=a(j.element).attr(j.attr).addClass(j.className).css(j.styles).appendTo(this.wrapperElement);this.updateToggle();this.positionToggle(j.position,j.verticalAlign,j.offset);if(j.touchSupport){this.toggleElement.css(j.touchStyles);this.element.on(j.attachToTouchEvent,a.proxy(this.toggleTouchEvent,this))}else{this.toggleElement.on(j.attachToEvent,a.proxy(this.toggleEvent,this))}if(j.attachToKeyCodes.length){this.toggleElement.on(j.attachToKeyEvent,a.proxy(this.toggleKeyEvent,this))}}return this.toggleElement},positionToggle:function(k,m,j){var l={};l[k]=j;switch(m){case"top":case"bottom":l[m]=j;break;case"middle":l.top="50%";l.marginTop=this.toggleElement.outerHeight()/-2;break}return this.toggleElement.css(l)},updateToggle:function(l,j){var k,m;if(this.toggleElement.length){k="padding-"+this.options.toggle.position;l=l||this.state().toggle;j=j||this.otherState().toggle;this.toggleElement.attr(l.attr).addClass(l.className).removeClass(j.className).html(l.content);m=this.toggleElement.outerWidth()+this.options.toggle.offset*2;if(this.element.css(k)!==m){this.element.css(k,m)}}return this.toggleElement},toggleEvent:function(j){j.preventDefault();this.toggle()},toggleKeyEvent:function(j){a.each(this.options.toggle.attachToKeyCodes,a.proxy(function(k,l){if(j.which===l){this.toggleEvent(j);return false}},this))},toggleTouchEvent:function(j){var n=this.toggleElement.offset().left,k,m,l;if(n){k=j.pageX||j.originalEvent.pageX;if(this.options.toggle.position==="left"){n+=this.toggleElement.outerWidth();m=k;l=n}else{m=n;l=k}if(l>=m){this.toggleEvent(j)}}}};a.fn.hideShowPassword=function(){var j={};a.each(arguments,function(k,m){var l={};if(typeof m==="object"){l=m}else{if(g[k]){l[g[k]]=m}else{return false}}a.extend(true,j,l)});return this.each(function(){var k=a(this),l=k.data(c);if(l){l.update(j)}else{k.data(c,new f(this,j))}})};a.each({show:true,hide:false,toggle:"toggle"},function(k,j){a.fn[k+"Password"]=function(l,m){return this.hideShowPassword(j,l,m)}})});